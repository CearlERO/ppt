% !TEX encoding = UTF-8 Unicode
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Beamer Presentation
% LaTeX Template
% Version 1.0 (10/11/12)
%
% This template has been downloaded from:
% http://www.LaTeXTemplates.com
%
% License:
% CC BY-NC-SA 3.0 (http://creativecommons.org/licenses/by-nc-sa/3.0/)
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%----------------------------------------------------------------------------------------
%	PACKAGES AND THEMES
%----------------------------------------------------------------------------------------

\documentclass{beamer}

\mode<presentation> {

% The Beamer class comes with a number of default slide themes
% which change the colors and layouts of slides. Below this is a list
% of all the themes, uncomment each in turn to see what they look like.

%\usetheme{default}
%\usetheme{AnnArbor}
%\usetheme{Antibes}
%\usetheme{Bergen}
%\usetheme{Berkeley}
%\usetheme{Berlin}
%\usetheme{Boadilla}
%\usetheme{CambridgeUS}
%\usetheme{Copenhagen}
%\usetheme{Darmstadt}
%\usetheme{Dresden}
%\usetheme{Frankfurt}
%\usetheme{Goettingen}
%\usetheme{Hannover}
%\usetheme{Ilmenau}
%\usetheme{JuanLesPins}
%\usetheme{Luebeck}
%\usetheme{Madrid}
%\usetheme{Malmoe}
%\usetheme{Marburg}
%\usetheme{Montpellier}
%\usetheme{PaloAlto}
%\usetheme{Pittsburgh}
%\usetheme{Rochester}
\usetheme{Singapore}
%\usetheme{Szeged}
%\usetheme{Warsaw}

% As well as themes, the Beamer class has a number of color themes
% for any slide theme. Uncomment each of these in turn to see how it
% changes the colors of your current slide theme.

%\usecolortheme{albatross}
%\usecolortheme{beaver}
%\usecolortheme{beetle}
%\usecolortheme{crane}
%\usecolortheme{dolphin}
%\usecolortheme{dove}
%\usecolortheme{fly}
%\usecolortheme{lily}
%\usecolortheme{orchid}
%\usecolortheme{rose}
%\usecolortheme{seagull}
%\usecolortheme{seahorse}
%\usecolortheme{whale}
%\usecolortheme{wolverine}

%\setbeamertemplate{footline} % To remove the footer line in all slides uncomment this line
%\setbeamertemplate{footline}[page number] % To replace the footer line in all slides with a simple slide count uncomment this line

%\setbeamertemplate{navigation symbols}{} % To remove the navigation symbols from the bottom of all slides uncomment this line
}

\usepackage{graphicx} % Allows including images
\usepackage{booktabs} % Allows the use of \toprule, \midrule and \bottomrule in tables
\usepackage{xeCJK}
\setCJKmainfont{SourceHanSerif-Regular}
\usepackage{color}
\usepackage{listings}
\lstset{numbers=left}
\usepackage{fancyvrb}%use Verbatim-the extended verbatim
\usepackage{tikz}


%----------------------------------------------------------------------------------------
%	TITLE PAGE
%----------------------------------------------------------------------------------------

\title[Django]{python} % The short title appears at the bottom of every slide, the full title is only on the title page
\subtitle{function}
\author{张海宁} % Your name
\institute[计算机科学与技术学院] % Your institution as it will appear on the bottom of every slide, may be shorthand to save space
{
贵州大学 \\ % Your institution for the title page
\medskip
\textit{hnzhang1@gzu.edu.cn} % Your email address
}
\date{\today} % Date, can be changed to a custom date

\begin{document}

\begin{frame}
\titlepage % Print the title page as the first slide
\end{frame}
\begin{frame}{Overview}
\tableofcontents
\end{frame}
%\begin{Verbatim}[numbers=left,frame=single,rulecolor=\color{red}]

%\end{Verbatim}



%\begin{columns}
%\column{2.8cm}{if}
%\column{2.8cm}{if-else}
%\column{3.1cm}{if-elif}
%\begin{Verbatim}[numbers=none,frame=single,rulecolor=\color{red}]
%\column{3.1cm}{if-elif-else}
%\end{columns}
\section{introduce of function}
\begin{frame}{函数的特点}
函数（方法）具有以下特点：
\begin{itemize}
\item 是一段代码
\item 能完成特定功能
\item 可以在其他地方被调用
\item 可以接收参数或不接收参数
\item 可以有返回值或没有返回值
\end{itemize}
函数用于将一个\textcolor{red}{复杂}的问题\textcolor{red}{分解}为若干个\textcolor{red}{简单}的子问题。
\end{frame}
\begin{frame}{函数的类型}
\begin{table}
\caption{函数的类型}
\begin{center}
\begin{tabular}{ccc}
\toprule
类型&说明&使用方式\\
\midrule
内建函数 &  \textit{print()、input()}等&直接调用\\
标准库\footnote{库，是一组具有相关功能的模块的组合。\textit{python3}标准库，可以参考\url{http://www.runoob.com/python3/python3-stdlib.html}}函数&如\textit{math}库里的函数等&先导入，再调用\\
自定义函数&用户自己按需编写的函数&先定义，再调用\\
第三方库函数&其他人编写的函数&先导入，再调用\\
\bottomrule
\end{tabular}
\end{center}

\end{table}
\end{frame}
\begin{frame}{内建函数}
内建函数是指定义在builtins模块中的函数，这里面的函数都可以直接使用。
\end{frame}
\begin{frame}{标准库函数}
标准库函数是python语言中自带的一些模块中的函数，这里面的函数都可以先通过import语句导入模块，然后再通过<库名>.<函数名>的形式来使用。以下列出几个标准库，更多的标准库请参阅官方文档：\url{https://docs.python.org/3/library/index.html}。
\begin{description}
\item[ math ] 提供数学计算功能。'ceil', 'cos', 'degrees', 'e', 'exp', 'floor', 'gcd', 'log', 'log10', 'log2', 'pi', 'pow', 'radians', 'remainder', 'sqrt'
\item[ os ] 系统交互功能。'getcwd', 'open', 'read', 'write'
\item[ random ] 提供生成随机数功能。'randint', 'random', 'randrange', 'sample', 'seed'
\item[ io ] 提供输入输出相关的功能，如读写文件。
\end{description}

\end{frame}

\begin{frame}[fragile]{使用标准库函数}
\begin{columns}
\column{.5\textwidth}{import}
\begin{Verbatim}[numbers=left,frame=single,rulecolor=\color{red}]
import random

r = random.randint(1, 38)
print(r)
\end{Verbatim}
\column{.5\textwidth}{from… import…}
\begin{Verbatim}[numbers=left,frame=single,rulecolor=\color{red}]
from random import randint

r = randint(1, 38)
print(r)
\end{Verbatim}
\end{columns}
\end{frame}

\begin{frame}{自定义函数}
自定义函数是用户根据自己的实际需求而编写的函数。

\end{frame}


\begin{frame}{第三方库函数}
python拥有大量的第三方库函数，第三方库函数是python的特色之一。这里面的函数都可以先通过import语句导入，然后再通过<库名>.<函数名>的形式来使用。
\begin{table}
\caption{著名的第三方库}
\begin{center}
\begin{tabular}{cc}
\toprule
类型&说明\\
\midrule

Django&    开源Web开发框架\\
Tornado&    一个轻量级的Web框架\\
Matplotlib&    主要用来绘制高质量的二维数学图形。\\
SciPy&   基于Python的matlab实现。\\
NumPy&    基于Python的科学计算第三方库。\\
PyGtk&    基于Python的GUI程序开发GTK+库。\\
PyQt&   用于Python的QT开发库。\\
BeautifulSoup&    基于Python的HTML/XML解析器。\\
\bottomrule
\end{tabular}
\end{center}

\end{table}
\end{frame}
\section{define a function}
\begin{frame}[fragile]{函数的定义}
\begin{Verbatim}[numbers=left,frame=single,rulecolor=\color{red}]
def functionName(parameter1, parameter2, …):
    functionBlock
    return aValue
\end{Verbatim}
第1行称为函数签名，用于指定函数名称以及函数的每个形式参数变量名，注意要有结尾的英文冒号。
\begin{description}
\item[ def ] 定义函数的关键字
\item[ functionName ] 函数名
\item[ parameter1…] 参数\footnote{函数可以不需要参数}
\item[ functionBlock ] 函数体
\item[ return ] 表明此函数是有返回值的\footnote{函数可以不返回任何值}
\item[ aValue ] 函数的返回值
\end{description}

\end{frame}

\begin{frame}[fragile]{函数的调用}
\begin{columns}
\column{.8\textwidth}
\begin{Verbatim}[numbers=left,frame=single,rulecolor=\color{red}]
import math

def myGCD(a,b):
    c, d = a, b
    while a % b != 0:
        a, b = b, a % b
    print(c,'和',d,'的最大公约数是:',b)

a = int(input("a:"))
b = int(input("b:"))
myGCD(a,b)
print(math.gcd(a, b))
\end{Verbatim}
\column{.2\textwidth}
\begin{Verbatim}[numbers=none,frame=single,rulecolor=\color{blue}]
一系列的
import

一系列的
函数定义



任意数量的
全局代码

程序的主体
\end{Verbatim}

\end{columns}
\end{frame}

\begin{frame}[fragile]{默认(可选)参数}
\begin{columns}
\column{.11\textwidth}

{\tiny 可以给一个参数指定默认值(\textcolor{red}{在函数签名中为参数赋值})，这样的参数也叫可选参数。可选参数可以有多个，但所有的\textcolor{red}{可选参数都要定义在必选参数之后}。}
\column{.89\textwidth}
\begin{Verbatim}[numbers=right,frame=single,rulecolor=\color{red}]
def is_prime(first_n=10):
    prime_list = [2]
    i = 3
    while True:
        for d in range(2, i):
            if i % d == 0:
                break
            elif (i % d != 0) and (d == (i-1)):
                prime_list.append(i)
        if len(prime_list) == first_n:
            break
        i += 1
    return prime_list

print(is_prime())
print(is_prime(5))
\end{Verbatim}

\end{columns}
\end{frame}


\begin{frame}[fragile]{多态性}
\begin{columns}
\column{.5\textwidth}
\begin{Verbatim}[numbers=left,frame=single,rulecolor=\color{red}]
import math

def my_power(a, b):
    return a**b
    
n1 = my_power(2,5)
n2 = my_power(math.pi, 1)
print(n1, n2)


32 3.141592653589793
\end{Verbatim}
\column{.5\textwidth}
从\textit{my\_power()}这个函数的返回值可以看出，传递int值的时候，返回的也是int值；如果传递的是浮点类型的值，返回值就是浮点类型的。

\textit{python}的这个特性体现了其灵活性，即多态性。\textcolor{red}{多态性允许定义一个函数，供不同类型的对象使用。}

但是要注意传递恰当类型的对象，如果向\textit{my\_power()}函数传递字符串类型的对象的话，程序会产生\textit{TypeError}错误。
\end{columns}
\end{frame}


\begin{frame}[fragile]{返回多个值}
\begin{columns}
\column{.8\textwidth}
\begin{Verbatim}[numbers=left,frame=single,rulecolor=\color{red}]
import math

def move(x, y, distance, angle = 0):
    new_x = x + distance * math.cos(angle)
    new_y = y + distance * math.sin(angle)
    return new_x, new_y
    
x, y = move(0, 0, 1.414, math.pi/4)
print(x, y)
z = move(0, 0, 2, math.pi/6)
print(z)

0.9998489885977783 0.999848988597778
(1.7320508075688774, 0.9999999999999999)
\end{Verbatim}
\column{.2\textwidth}
 
 
 
 
 
 
 
 
 
 
第8行形式上返回了\textcolor{red}{两个值}，通过
第10可以看出\textcolor{red}{其实是一个元组}。


\end{columns}
\end{frame}

\begin{frame}[fragile]{列表解析}
当想要对一个序列中的每个元素都执行某个特定的操作时，通常可以使用\textit{for}循环来实现。
在\textit{python}中，可以使用\textcolor{red}{列表解析}。
\begin{Verbatim}[numbers=left,frame=single,rulecolor=\color{red}]
import math

l = [2, 3, 4]
m = [pow(x, 2) for x in l]
n = [math.sqrt(y) for y in m]
print(m)
print(n)

[4, 9, 16]
[2.0, 3.0, 4.0]
\end{Verbatim}

\end{frame}


\begin{frame}[fragile]{向函数传递不可变对象\footnote{\url{https://www.python-course.eu/passing_arguments.php}}}
\begin{columns}
\column{.77\textwidth}
\begin{Verbatim}[numbers=left,frame=single,rulecolor=\color{red}]
def double(l):
    print('before:: l=',l,'id(l)=',id(l))
    l = l * 2
    print('after:: l=',l,'id(l)=',id(l))

x = 5
print('x=',x,'id(x)=', id(x))
double(x)
print('x=',x)

x= 5 id(x)= 4385389696
before:: l= 5 id(l)= 4385389696
after:: l= 10 id(l)= 4385389856
x= 5
\end{Verbatim}
\column{.23\textwidth}
\begin{block}{before \textit{line3}}
\begin{tikzpicture}
%\draw [thick,red,dashed,above] (0,0) rectangle (3,5) node{host A};
\node [draw,rectangle] (x) at(0,4.5){x};
\node [draw,rectangle] (xv) at(2,4.5){5};

\node [draw,rectangle] (lx) at(0,3){l};
%\node [draw,rectangle] (lxv) at(2,3){10};

\draw[thick,->](x) to[out=0,in=180] (xv);
\draw[thick,->](lx) to[out=0,in=180] (xv);
%\draw[thick,->](lx) to[out=0,in=180] (lxv);

%\draw[thick,->](p) to[out=0,in=180] (o);


\end{tikzpicture}
\end{block}
\begin{block}{after \textit{line3}}
\begin{tikzpicture}
\node [draw,rectangle] (x) at(0,4.5){x};
\node [draw,rectangle] (xv) at(2,4.5){5};

\node [draw,rectangle] (lx) at(0,3){l};
\node [draw,rectangle] (lxv) at(2,3){10};

\draw[thick,->](x) to[out=0,in=180] (xv);
\draw[thick,->](lx) to[out=0,in=180] (lxv);
\end{tikzpicture}
\end{block}

\end{columns}
\end{frame}

\begin{frame}[fragile]{向函数传递可变对象\textit{I}}
\begin{columns}
\column{.77\textwidth}
\begin{Verbatim}[numbers=left,frame=single,rulecolor=\color{red}]
def double(f):
    print('before:: f=',f,'id(f)=',id(f))
    f = f * 2
    print('after:: f=',f,'id(f)=',id(f))

l = [2, 3, 4]
print('l=',l,'id(l)=', id(l))
double(l)
print('l:', l)

l= [2, 3, 4] id(l)= 4386889608
before:: f= [2, 3, 4] id(f)= 4386889608
after:: f= [2, 3, 4, 2, 3, 4] 
id(f)= 4388025352
l: [2, 3, 4]
\end{Verbatim}
\column{.23\textwidth}
\begin{block}{before \textit{line3}}
\begin{tikzpicture}
%\draw [thick,red,dashed,above] (0,0) rectangle (3,5) node{host A};
\node [draw,rectangle] (x) at(0,4.5){l};
\node [draw,rectangle] (xv) at(2,4.5){[2,3,4]};

\node [draw,rectangle] (lx) at(0,3){f};
%\node [draw,rectangle] (lxv) at(2,3){10};

\draw[thick,->](x) to[out=0,in=180] (xv);
\draw[thick,->](lx) to[out=0,in=180] (xv);
%\draw[thick,->](lx) to[out=0,in=180] (lxv);

%\draw[thick,->](p) to[out=0,in=180] (o);


\end{tikzpicture}
\end{block}
\begin{block}{after \textit{line3}}
\begin{tikzpicture}
\node [draw,rectangle] (x) at(0,4.5){l};
\node [draw,rectangle] (xv) at(2,4.5){[2,3,4]};

\node [draw,rectangle] (lx) at(0,3){f};
\node [draw,rectangle] (lxv) at(2,3){[2,3,4,2,3,4]};

\draw[thick,->](x) to[out=0,in=180] (xv);
\draw[thick,->](lx) to[out=0,in=180] (lxv);
\end{tikzpicture}
\end{block}

\end{columns}
\end{frame}

\begin{frame}[fragile]{向函数传递可变对象\textit{II}\footnote{Side effects: A function is said to have a side effect if, in addition to producing a value, it modifies the caller's environment in other ways. }}
\begin{columns}
\column{.77\textwidth}
\begin{Verbatim}[numbers=left,frame=single,rulecolor=\color{red}]
def double_2(f):
    print('before:: f=',f,'id(f)=',id(f))
    del f[-1]
    print('after:: f=',f,'id(f)=',id(f))

l = [2, 3, 4]
print('l=',l,'id(l)=',id(l))
double_2(l)
print('l:', l)

l= [2, 3, 4] id(l)= 4377313160
before:: f= [2, 3, 4] id(f)= 4377313160
after:: f= [2, 3] id(f)= 4377313160
l: [2, 3]
\end{Verbatim}
\column{.23\textwidth}
\begin{block}{before \textit{line3}}
\begin{tikzpicture}
%\draw [thick,red,dashed,above] (0,0) rectangle (3,5) node{host A};
\node [draw,rectangle] (x) at(0,4.5){l};
\node [draw,rectangle] (xv) at(2,4.5){[2,3,4]};

\node [draw,rectangle] (lx) at(0,3){f};
%\node [draw,rectangle] (lxv) at(2,3){10};

\draw[thick,->](x) to[out=0,in=180] (xv);
\draw[thick,->](lx) to[out=0,in=180] (xv);
%\draw[thick,->](lx) to[out=0,in=180] (lxv);

%\draw[thick,->](p) to[out=0,in=180] (o);


\end{tikzpicture}
\end{block}
\begin{block}{after \textit{line3}}
\begin{tikzpicture}
\node [draw,rectangle] (x) at(0,4.5){l};
\node [draw,rectangle] (xv) at(2,4.5){[2,3]};

\node [draw,rectangle] (lx) at(0,3){f};
%\node [draw,rectangle] (lxv) at(2,3){[2,3,4,2]};

\draw[thick,->](x) to[out=0,in=180] (xv);
\draw[thick,->](lx) to[out=0,in=180] (xv);
\end{tikzpicture}
\end{block}

\end{columns}
\end{frame}

\begin{frame}[fragile]{如何避免函数改变主程序中变量的值}
\begin{columns}
\column{.77\textwidth}
\begin{Verbatim}[numbers=left,frame=single,rulecolor=\color{red}]
def double_2(f):
    print('before:: f=',f,'id(f)=',id(f))
    del f[-1]
    print('after:: f=',f,'id(f)=',id(f))

l = [2, 3, 4]
print('l=',l,'id(l)=',id(l))
double_2(l[:])
print('l:', l)

l= [2, 3, 4] id(l)= 4537892744
before:: f= [2, 3, 4] id(f)= 4539028552
after:: f= [2, 3] id(f)= 4539028552
l: [2, 3, 4]
\end{Verbatim}
\column{.23\textwidth}
\begin{block}{before \textit{line3}}
\begin{tikzpicture}
%\draw [thick,red,dashed,above] (0,0) rectangle (3,5) node{host A};
\node [draw,rectangle] (x) at(0,4.5){l};
\node [draw,rectangle] (xv) at(2,4.5){[2,3,4]};

\node [draw,rectangle] (lx) at(0,3){f};
\node [draw,rectangle] (lxv) at(2,3){[2,3,4]};

\draw[thick,->](x) to[out=0,in=180] (xv);
\draw[thick,->](lx) to[out=0,in=180] (lxv);
%\draw[thick,->](lx) to[out=0,in=180] (lxv);

%\draw[thick,->](p) to[out=0,in=180] (o);


\end{tikzpicture}
\end{block}
\begin{block}{after \textit{line3}}
\begin{tikzpicture}
\node [draw,rectangle] (x) at(0,4.5){l};
\node [draw,rectangle] (xv) at(2,4.5){[2,3,4]};

\node [draw,rectangle] (lx) at(0,3){f};
\node [draw,rectangle] (lxv) at(2,3){[2,3]};

\draw[thick,->](x) to[out=0,in=180] (xv);
\draw[thick,->](lx) to[out=0,in=180] (lxv);
\end{tikzpicture}
\end{block}

\end{columns}
\end{frame}
%\begin{frame}{lamda}
%\end{frame}
\section{module}
\begin{frame}[fragile]{模块}
模块，就是一个特殊的\textit{python}文件\footnote{以\textit{math}为例，物理上的组织形式，即在磁盘上的形式就是一个文件，比如：\textit{math.py}；逻辑上的组织形式，即在\textit{python}语言内部的形式就是模块，比如：\textit{math}。}，其特殊在：
\begin{itemize}
\item 包含了若干函数
\item 这些函数可供其他\textit{python}程序调用
\item 没有全局代码
\end{itemize}

\end{frame}

\begin{frame}[fragile]{引用模块}
可以在一条\textit{import}语句中导入多个模块；也可以导入某个模块中指定的函数或变量，导入某个具体函数或变量的时候可以在代码中直接引用该函数或变量。

\begin{Verbatim}[numbers=left,frame=single,rulecolor=\color{red}]
import os, random
from math import pi

print(pi)
print(random.randint(1,9))
\end{Verbatim}

\end{frame}

\begin{frame}[fragile]{自定义模块}
\begin{block}{toolbox.py}
\begin{Verbatim}[numbers=left,frame=single,rulecolor=\color{red}]
import math
import random
import sys

def my_gcd(a, b):
    return math.gcd(a, b)
def my_rand():
    return random.randint(1, 9)
def main():
    print('gcd(',sys.argv[1],',',sys.argv[2],')=',
          my_gcd(int(sys.argv[1]), int(sys.argv[2])))
    for i in range(3):
        print(my_rand())
if __name__ == '__main__':
    main()
\end{Verbatim}
\end{block}
\end{frame}

\begin{frame}[fragile]{引用自定义模块}
\begin{block}{test.py}
\begin{Verbatim}[numbers=left,frame=single,rulecolor=\color{red}]
import toolbox

print(toolbox.my_rand())
\end{Verbatim}
\end{block}
\end{frame}

\begin{frame}[fragile]{API}
API, 应用程序编程接口，描述了模块所实现的具体功能。\textcolor{red}{API保证了代码的重用性}，使得其他用户不用查看模块的具体定义就可以直接使用其实现的功能（函数）。
用户自定义的模块也应给出相应的API以供参考。

toolbox模块的API如下表所示：
\begin{table}[htp]
\caption{toolbox模块的API}
\begin{center}
\begin{tabular}{c|c}
\toprule
\textbf{函数调用}&\textbf{功能描述}\\
\midrule
my\_gcd(a, b)&返回a, b两个数的最大公约数\\
my\_rand()&返回一个[1, 9]之间的随机整数\\
\bottomrule
\end{tabular}
\end{center}

\end{table}%

\end{frame}
%----------------------------------------------------------------------------------------
%	PRESENTATION SLIDES
%----------------------------------------------------------------------------------------
\section{homework}
\begin{frame}{Homework}
\begin{enumerate}
\item
定义一个函数\textit{fib()}求斐波那契数列，要求能输出斐波那契数列的前\textit{n}个数，默认情况下输出前10个。
\item
在一个文件中定义一个函数\textit{fact(n)}求一个正整数的阶乘，在另外一个文件中引用函数\textit{fact(n)}用以求解一个正整数\textit{n}的阶乘。
%\item
%找零钱。输入收费金额和客户所付的钱，给出需要怎么找零。要求找零的钱币张数最少。（即需要多少1元的，多少2元的，多少5元的等）
\end{enumerate}
\end{frame}
\section{Q\&A}
\begin{frame}
\center{\Huge{Q\&A}}
\end{frame}


%How do I uninstall?
%
%	1.	Remove /Applications/Wireshark.app
%	2.	Remove /Library/Application Support/Wireshark
%	3.	Remove the wrapper scripts from /usr/local/bin
%	4.	Unload the org.wireshark.ChmodBPF.plist launchd job
%	5.	Remove /Library/LaunchDaemons/org.wireshark.ChmodBPF.plist
%	6.	Remove the access_bpf group.
%	7.	Remove /etc/paths.d/Wireshark
%	8.	Remove /etc/manpaths.d/Wireshark
\end{document} 

