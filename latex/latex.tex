\documentclass{beamer}
\usetheme[block=fill,numbering=fraction]{metropolis}         % Use metropolis theme
\usepackage{xeCJK}%支持中文
%\setCJKmainfont{SourceHanSerifCN-Regular}%windows
\setCJKmainfont{SourceHanSerif-Regular}%mac
\usepackage{listings}%support code enviroment
\usepackage{booktabs}%support 三线表
\usepackage{ulem}


\title{LaTeX基础知识}
%\subtitle{\LaTeX}
\date{\today}
\author{张海宁}


\institute{贵州大学}
\begin{document}
\maketitle
\begin{frame}{目录}
\setbeamertemplate{section in toc}[sections numbered]
\tableofcontents[hideallsubsections]

\end{frame}

\section{背景}

\begin{frame}{TeX LaTeX}
\begin{itemize}
\item
\textcolor{red}{Tex}

高德纳（Donald E.Knuth）为了解决其编写的《计算机程序设计艺术》一书的排版问题而开发的。
\item
\textcolor{red}{LaTeX}

是以TeX为基础的一套格式，易于使用。
\url{https://www.latex-project.org/}
\end{itemize}
\end{frame}
\begin{frame}{LaTeX的优点}
\begin{itemize}
\item
专业的排版输出
\item
强大的数学公式排版能力
\item
容易生成复杂的专业排版元素，如脚注、引用、参考文献等
\end{itemize}
\end{frame}
\begin{frame}[fragile]{LaTeX源代码结构}
\begin{block}{一个简单的ppt页面}


\begin{lstlisting}
\documentclass{beamer}%beamer 是ppt的文档类
\usepackage{xeCJK}%引用宏包，以支持某个功能
\begin{document}

%正文件内容
\end{document}

\end{lstlisting}
\end{block}
\end{frame}
\begin{frame}{引擎、格式和命令}
\begin{itemize}
\item
\textcolor{red}{引擎}

全称是排版引擎，是读入源代码并编译生成文档的程序，也可以叫做编译器。
\item
\textcolor{red}{格式}

是定义了一组命令的代码集。LaTeX是目前应用最广泛的一个格式。
\item
\textcolor{red}{命令}

是引擎和格式二者的结合体。比如xelate命令会使用XeTeX引擎将LaTeX格式的源代码编译成为pdf文件。
\end{itemize}
\end{frame}
\begin{frame}[fragile]{文档类}
\begin{lstlisting}
\documents[<options>]{<class-name>}
\end{lstlisting}
文档类规定了所要生成的文档的性质：普通文章、书籍、演示文稿、个人简历等。
\begin{table}
\begin{tabular}{lp{22em}}
\toprule
\textbf{class}&\textbf{description}\\
\midrule
article&文章，应用于科技论文、报告、说明文档等。\\
report&长篇报告，具有章节结构，应用于综述、长篇论文、简单的书籍等。\\
book&书籍，包含章节结构和前言、正文、后记等结构。\\
\bottomrule
\end{tabular}
\caption{latex提供的基础文档类}
\label{ldc}
\end{table}
\end{frame}
\begin{frame}[fragile]{文档类选项}
\begin{lstlisting}
\documents[12pt,a4paper,twocolumn,twoside]{article}
\end{lstlisting}
\begin{table}
\begin{tabular}{lp{22em}}
\toprule
\textbf{options}&\textbf{description}\\
\midrule
10pt,11pt,12pt&default 10pt。\\
a4paper,letterpaper&default letterpaper。\\
fleqn&行间公式左对齐，default 居中。\\
leqno&将公式编号放在左边，default 右边。\\
onecolumn,twocolumn&单/双栏。\\
oneside,towside&单/双面排版。\\
landscape&指定横向排版。\\
\bottomrule
\end{tabular}
\caption{标准文档类的部分可指定选项}
\label{ldo}
\end{table}
\end{frame}
\begin{frame}[fragile]{宏包}
\begin{lstlisting}
\documents[12pt,a4paper,twocolumn]{article}
\usepackage{xeCJK}
\end{lstlisting}
在写作时，有可能 latex提供的基础功能不能满足需求，这时候可以引用一些扩展来提供更多的功能，这些\textcolor{red}{扩展}就称为宏包。

在接下来的ppt中会穿插一些常用的宏包。

每个宏包都定义了很多命令和环境，为了明白它们的用法，可以在命令提示符下输入命令：
\begin{lstlisting}
texdoc  <pkg-name>
\end{lstlisting}
\end{frame}
\begin{frame}[fragile]{排版中文}
Latex的中文处理是一个比较麻烦的事情。xeCJK宏包为解决这个问题带来了很大的方便。xelatex命令支持直接使用系统安装的.ttf和.otf等格式的字体。以下是windows下的一段代码示例：
\begin{block}{排版中文并设置字体}
\begin{lstlisting}
\documentclass{beamer}
\usetheme[block=fill]{metropolis} 
\usepackage{xeCJK}%支持中文
\setCJKmainfont{SourceHanSerifCN-Regular}
\usepackage{listings}%支持代码环境
\usepackage{booktabs}%支持三线表
\end{lstlisting}
\end{block}
\end{frame}
\begin{frame}[fragile]{特殊字符}
\begin{enumerate}
\item
\textcolor{red}{空格和分段}

一个或若干个tab和空格会被视为一个空格。一个或多个空行会被视为分段。
\item
\textcolor{red}{\%}

注释
\item
\textcolor{red}{特殊字符}

\%表示注释，\$、\_、\^{}等用于排版数学公式，\&用于排版表格。这些特殊字符不能直接输入，需要转义。$\backslash$是一个更特殊的。
\end{enumerate}
\begin{block}{特殊符号的写法}


\begin{lstlisting}
\%、\$、\_、\^{}、\&、$\backslash$
\end{lstlisting}
\end{block}
\end{frame}
\begin{frame}[fragile]{文字强调}
latex可以使用\uline{下划线}、\textcolor{red}{颜色}
或\textbf{特殊字体}来强调文字。
\begin{block}{特殊符号的写法}
\begin{lstlisting}
\uline{下划线}、\textcolor{red}{颜色}
或\textbf{特殊字体}
\end{lstlisting}
\end{block}
\end{frame}
\section{文档元素}
\begin{frame}{文档元素}
在了解了基本的文字输入后，本部分将介绍一个结构化的文档所依赖的各种元素：
\begin{itemize}
\item
章节
\item
目录
\item
列表
\item
图表
\item
脚注
\item
引用
\item
\ldots
\end{itemize}
\end{frame}
\subsection{章节和目录}
\begin{frame}[fragile]{章节和目录}
latex的三个标准文档类，article、report和book提供了一系列的命令以分割章、节、小节并自动编号，并组成目录内容，还会影响页眉页脚的内空：
\begin{block}{章节、目录命令}
\begin{lstlisting}
\chapter{title}（article不适用）
\section{s1}
\subsection{s2} 
\subsubsection{s3}（report、book不适用）
\tableofcontents（生成目录）
\end{lstlisting}
\end{block}
\end{frame}
\begin{frame}[fragile]{标题页}
\begin{block}{标题相关命令}
\begin{lstlisting}
\title{title}
\author{a1 and a2}
\date{\today}
\title和\author命令内使用\thanks{footnote}
会生成标题页的脚注

\maketitle会根据以上给定的信息生成标题页
\end{lstlisting}
\end{block}
\end{frame}
\begin{frame}[fragile]{交叉引用}
latex中，可以在章节、公式、图表、定理等位置使用$\backslash$label命令设置一个标签：
\begin{lstlisting}
\label{titlepage}
\end{lstlisting}
之后就可以在别的地方使用$\backslash$ref或$\backslash$pageref命令分别生成交叉引用的编号或页码：
\begin{lstlisting}
see here \ref{titlepage} 
on page \pageref{titlepage}
\end{lstlisting}
要注意的是：章节和图表标题之后要紧接着使用label命令才可以。
\end{frame}
\begin{frame}[fragile]{脚注}
使用$\backslash$footnote{}命令，可以在页面底部生成一个脚注\footnote{比如这个。}。
\begin{lstlisting}
生成一个脚注\footnote{比如这个。}。
\end{lstlisting}
\end{frame}
\begin{frame}[fragile]{列表}
列表有两种，一种是前面有数字标号的，一种是没标号的。

\begin{columns}
\column{0.5\textwidth}
\begin{block}{有标号的}
\begin{lstlisting}
\begin{enumerate}
\item
an item
\item
another item
\end{enumerate}
\end{lstlisting}
\end{block}
\begin{enumerate}
\item
an item
\item
another item
\end{enumerate}
\column{.5\linewidth}
\begin{block}{无标号的}
\begin{lstlisting}
\begin{itemize}
\item
an item
\item
another item
\end{itemize}
\end{lstlisting}
\end{block}
\begin{itemize}
\item
an item
\item
another item
\end{itemize}
\end{columns}

\end{frame}
\begin{frame}[fragile]{代码}
\begin{enumerate}
\item
lstlisting环境，需要引用lstings宏包

\begin{lstlisting}
#include<stdio.h>

int main(){
    char *a = (char *) malloc(1000);
}
\end{lstlisting}

\item
verbatim环境
\begin{verbatim}
#include<stdio.h>

int main(){
    char *a = (char *) malloc(1000);
}
\end{verbatim}
\end{enumerate}
\end{frame}
\begin{frame}{表格I}
以三线表为例，需要引用booktabs宏包。
\begin{table}
\begin{tabular}{lcrp{6em}}
\toprule
\textbf{id}&\textbf{name}&\textbf{age}&\textbf{note}\\
\midrule
01&trump&20&the president of America\\
\bottomrule
\end{tabular}
\caption{a table example}
\label{tableExample}
\end{table}
\end{frame}
\begin{frame}[fragile]{表格II}
Table \ref{tableExample}的代码为：
\begin{verbatim}
\begin{table}
\begin{tabular}{lcrp{6em}}
\toprule
\textbf{id}&\textbf{name}&\textbf{age}&\textbf{note}\\
\midrule
01&trump&20&the president of America\\
\bottomrule
\end{tabular}
\caption{a table example}
\label{tableExample}
\end{table}
\end{verbatim}
\end{frame}
\begin{frame}[fragile]{图片}
latex除可以插入eps格式的矢量图以外，还可以插入普通格式的图片，如png,bmp,jpg，不过需要使用宏包graphicx 。
\begin{block}{insert a picture}
\begin{verbatim}
\includegraphics[⟨options⟩]{⟨filename⟩}
\end{verbatim}
\end{block}

\begin{table}
\begin{tabular}{lr}
\toprule
\textbf{option}&\textbf{description}\\
\midrule
width=<width>&将图片缩放到宽度为<width>\\
height=<height>&将图片缩放到高度为<height>\\
scale=<scale>&将图片相对于原尺寸缩放<scale>倍\\
angle=<angle>&将图片逆时针旋转<angle>度\\
\bottomrule
\end{tabular}
\caption{includegraphics的options}
\end{table}


\end{frame}
\section{数学公式}
\begin{frame}{数学公式}
latex的强项---排版数学公式。

排版数学公式需要使用amsmath宏包。

数学公式排版有两种：
\begin{enumerate}
\item
与文字混排，称为\textcolor{red}{行内公式}。
\item
单独一行排版，称为\textcolor{red}{行间公式}。
\end{enumerate}
\end{frame}
\begin{frame}[fragile]{行内公式}
行内公式由一对\$符号包裹，如：$a^2+b^2=c^2$
\begin{block}{latex代码}
\begin{verbatim}
行内公式由一对\$符号包裹，如：$a^2+b^2=c^2$
\end{verbatim}
\end{block}
\end{frame}

\begin{frame}[fragile]{行间公式}
行间公式由equation环境包裹，如：公式 \ref{gg}，
或公式 \eqref{gg}。
\begin{equation}
a^2+b^2=c^2 \label{gg}
\end{equation}
\begin{block}{latex代码}
\begin{verbatim}
行间公式由equation环境包裹，如：公式 \ref{gg}，
或公式 \eqref{gg}。
\begin{equation}
a^2+b^2=c^2 \label{gg}
\end{equation}

\end{verbatim}
\end{block}
\end{frame}
\begin{frame}[fragile]{数学符号}
\begin{itemize}
\item
省略号 $\dots$  $\vdots$  $\ddots$
\item
上标，下标 $x^{2+i}$ $x_{j}$
\item
分式，根式 $\frac{1}{2}$ $\sqrt[3]{2}$ $\binom{n}{k}=\binom{n-1}{k}+\binom{n-1}{k-1}$
\item
积分、求和类的符号 $\int_{0}^{\frac{\pi}{2}}$ $\sum_{i=1}^{n}$
\item
数学重音 $\bar{x_{i}}$ $\vec{x_{0}}$
\end{itemize}
\begin{block}{latex代码}
\begin{verbatim}
省略号 $\dots$  $\vdots$  $\ddots$
上标，下标 $x^{2+i}$ $x_{j}$
分式，根式 $\frac{1}{2}$ $\sqrt[3]{2}$ 
  $\binom{n}{k}=\binom{n-1}{k}+\binom{n-1}{k-1}$
积分、求和类的符号 $\int_{0}^{\frac{\pi}{2}}$ 
  $\sum_{i=1}^{n}$
数学重音 $\bar{x_{i}}$ $\vec{x_{0}}$
\end{verbatim}
\end{block}
\end{frame}
\begin{frame}[fragile]{长公式折行}
一般来说，应当避免写出超过一行的公式，如果有此需要的话，可以使用multline环境，多行公式的首行左对齐，末行右对齐，其余行居中，如：
\begin{multline}
(a+b)^{2}\\
=a^2+2ab+b^2
\end{multline}

\begin{block}{latex代码}
\begin{verbatim}
\begin{multline}
(a+b)^{2}\\
=a^2+2ab+b^2
\end{multline}

\end{verbatim}
\end{block}

\end{frame}
\begin{frame}{数组和矩阵I}
可以使用array和matrix环境来分别产生数组和矩阵。
$ \mathbf{X} = \left(
\begin{array}{cccc}
x_{11} & x_{12} & \ldots & x_{1n}\\
x_{21} & x_{22} & \ldots & x_{2n}\\
\vdots & \vdots & \ddots & \vdots\\
x_{n1} & x_{n2} & \ldots & x_{nn}\\
\end{array} \right) $
$
\begin{bmatrix}
x_{11} & x_{12} & \ldots & x_{1n}\\
x_{21} & x_{22} & \ldots & x_{2n}\\
\vdots & \vdots & \ddots & \vdots\\
x_{n1} & x_{n2} & \ldots & x_{nn}\\
\end{bmatrix}
$
\end{frame}
\begin{frame}[fragile]{数组和矩阵II}
\begin{block}{latex代码}
\begin{verbatim}
$ \mathbf{X} = \left(
\begin{array}{cccc}
x_{11} & x_{12} & \ldots & x_{1n}\\
x_{21} & x_{22} & \ldots & x_{2n}\\
\vdots & \vdots & \ddots & \vdots\\
x_{n1} & x_{n2} & \ldots & x_{nn}\\
\end{array} \right) $
$ \begin{bmatrix}
x_{11} & x_{12} & \ldots & x_{1n}\\
x_{21} & x_{22} & \ldots & x_{2n}\\
\vdots & \vdots & \ddots & \vdots\\
x_{n1} & x_{n2} & \ldots & x_{nn}\\
\end{bmatrix}$
\end{verbatim}
\end{block}
\end{frame}

%\section{样式设定}
%\section{其他功能}
%\subsection{文献、索引}
%\subsection{超链接}

\begin{frame}[standout]
The END.

Q\&A

参考资料\footnote{本ppt的内容基本上都来自于此。}：\url{https://mirrors.tuna.tsinghua.edu.cn/CTAN/info/lshort/chinese/lshort-zh-cn.pdf}
\end{frame}

\end{document}